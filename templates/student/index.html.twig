{% extends 'base.html.twig' %}

{% block title %}
  Student Listing
{% endblock %}

{% block body %}
  <div class="table container px-5">
    <h1>
      Student Listing            
    </h1>    
    <form action={{ path('app_student_index') }} method="get">
                    <div>
                      <div class="input-group">
                        <input type="string" name="Name" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon">
                        <button type="submit" class="btn btn-outline-primary" value="Search" >search</button>
                      </div>
                    </div>            
    </form><br>
    <table class="table table-striped table-bordered text-center">
      <thead>
        <tr class="table table-info">
          <th>
            Id
          </th>
          <th>
            Name
          </th>
          <th>
            Gender
          </th>
          <th>
            Day of Birth
          </th>
          <th>
            Actions
          </th>
        </tr>
      </thead>
      <tbody>
        {% for student in students %}
          <tr>
            <td>
              <strong>{{ student.id }}</strong>
            </td>
            <td>
              {{ student.Name }}
            </td>
            <td>
              {{ student.Gender }}
            </td>
            <td>
              {{ student.DayofBirth ? student.DayofBirth|date('Y-m-d') : '' }}
            </td>
            <td>
              <a class="btn btn-outline-info"
                type="submit"
                href="{{
                path(
                  'app_student_show',
                  {
                    id: student.id
                  }
                )
                }}">
                show
              </a>
              <a class="btn btn-outline-warning"
                type="submit"
                href="{{
                path(
                  'app_student_edit',
                  {
                    id: student.id
                  }
                )
                }}">
                edit
              </a>
            </td>
          </tr>
        {% else %}
          <tr>
            <td colspan="5">
              no records found
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>

    <a class="btn btn-primary gap-2 col-2 mx-auto d-md-block" type="submit" href="{{ path('app_student_new') }}">
      Create new
    </a>
    <h1>Counting female students: {{tongsonu}}</h1>
    <h1>Counting male students: {{tongsonam}}</h1>
  </div>
{% endblock %}
